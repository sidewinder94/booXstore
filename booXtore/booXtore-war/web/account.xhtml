<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:p="http://primefaces.org/ui"
	  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	  xmlns:pass="http://xmlns.jcp.org/jsf/passthrough">

	<h:head>

		<f:facet name="first">
			<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		</f:facet>
		<title>booXtore - Mon Compte</title>
		<h:outputStylesheet library="css" name="main.css"/>
		<h:outputStylesheet library="css" name="font-awesome.css"/>

	</h:head>
	<h:body>

		<!-- Include - Navbar -->
		<ui:include src="/WEB-INF/includes/navbar.xhtml"/>

		<!-- Main content -->
		<div id="wrap">
			<div class="container">


				<!-- Tabs -->
				<ul class="nav nav-tabs">
					<li class="active"><a href="#settings" data-toggle="tab">Paramètres du compte</a></li>
					<li><a href="#credentials" data-toggle="tab">Informations personnelles</a></li>
					<li><a href="#history" data-toggle="tab">Historique des commandes</a></li>
				</ul>

				<!-- Contenu des tabs -->
				<div class="tab-content">
					<div class="tab-pane fade in active" id="settings">

						<div class="page-header">
							<h2>Changer d'adresse mail</h2>
						</div>

						<p><strong>Adresse actuelle</strong></p>
						<p value="#{AuthenticationBean.mail}"><!-- Adresse mail --></p>

						<h:form>
							<div class="form-group">
								<label for="email">Nouvelle adresse mail</label>
								<h:inputText
								   required="true"
								   requiredMessage="Veuillez entrer votre adresse email"
								   validatorMessage="Votre email est invalide"
								   class="form-control"
								   id="email">

									<f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$"/>

								</h:inputText>


							</div>
							<h:commandButton type="submit" class="btn btn-success" value="Changer d'adresse mail"/>
						</h:form>

						<div class="page-header">
							<h2>Changer de mot de passe</h2>
						</div>

						<h:form>
							<div class="form-group">
								<label for="oldPass">Ancien mot de passe</label>
								<h:inputSecret class="form-control" id="oldPass" 
                                                                   value="#{AuthenticationBean.password}"/>
							</div>
							<div class="form-group">
								<label for="newPass">Nouveau mot de passe</label>
								<h:inputSecret class="form-control" id="newPass"/>
							</div>
							<div class="form-group">
								<label for="newPassConfirm">Confirmation du mot de passe</label>
								<h:inputSecret class="form-control" id="newPassConfirm"/>
							</div>
							<h:commandButton type="submit" class="btn btn-success" value="Changer de mot de passe"/>
						</h:form>

					</div>

					<div class="tab-pane fade" id="credentials">

						<div class="page-header">
							<h2>Informations personnelles</h2>
						</div>

						<h:form>
							<div class="col-md-12">
								<div class="form-group">
									<label for="address">Adresse</label>
									<h:inputText class="form-control" id="address" value="#{AuthenticationBean.address}"/>
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<label for="postalCode">Code postal</label>
									<h:inputText class="form-control" id="postalCode"  value="#{AuthenticationBean.ZIP}"/>
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<label for="city">Ville</label>
									<h:inputText class="form-control" id="city" value="#{AuthenticationBean.city}"/>
								</div>
							</div>
							<h:commandButton type="submit" class="btn btn-success" value="Sauvegarder"/>
						</h:form>

					</div>

					<div class="tab-pane fade" id="history">
						<div class="page-header">
							<h2>Historique des commandes</h2>
						</div>

						<div class="table-responsive">
							<table class="table">
								<thead>
									<tr>
										<th>Date</th>
										<th>Prix</th>
										<th>Status</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><!-- Date --></td>
										<td><!-- Prix --></td>
										<td><!-- État --></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>

				</div>

			</div>
		</div>

	</h:body>
	<h:outputScript library="js" name="main.js"/>
</html>
